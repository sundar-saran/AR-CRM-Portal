@model List<CRM_Buddies_Task.Models.ProjectModel>

@{
    ViewBag.Title = "All Projects";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section Styles {
    <style>
        .page-header {
            background: linear-gradient(270deg, #4ca1af, #c4e0e5);
            background-size: 400% 400%;
            animation: gradientShift 10s ease infinite;
            padding: 30px;
            border-radius: 12px;
            color: #fff;
            margin-bottom: 2rem;
        }

        body.dark-theme .page-header {
            background: linear-gradient(270deg, #1c1c1e, #2a2a2d);
        }

        @@keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.6s ease-out forwards;
        }

        @@keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .custom-table {
            border-radius: 12px;
            overflow: hidden;
            width: 100%;
        }

        .custom-table thead th {
            background-color: #f8f9fa;
            color: #212529;
            font-weight: 600;
        }

        body.dark-theme .custom-table thead th {
            background-color: #2a2a2d;
            color: #fff;
        }

        .custom-table tbody tr {
            transition: background 0.3s ease;
        }

        .custom-table tbody tr:hover {
            background-color: rgba(255, 255, 255, 0.05);
        }

        body.light-theme .custom-table tbody tr:hover {
            background-color: rgba(0, 0, 0, 0.03);
        }

        .btn-success:hover {
            background-color: #198754;
            box-shadow: 0 0 10px rgba(25, 135, 84, 0.4);
        }
    </style>
}

<div class="container mt-5 fade-in">
    <div class="page-header shadow-sm d-flex justify-content-between align-items-center">
        <h2 class="mb-0">
            <i class="bi bi-kanban-fill me-2"></i> All Projects
        </h2>
        <a href="@Url.Action("AddProject", "Account")" class="btn btn-success shadow-sm">
            <i class="bi bi-plus-circle me-1"></i> Add New Project
        </a>
    </div>

    @if (Model != null && Model.Any())
    {
        <div class="card shadow-sm border-0 mt-4">
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table table-hover align-middle mb-0 custom-table">
                        <thead>
                            <tr>
                                <th scope="col">ID</th>
                                <th scope="col">Project Name</th>
                                <th scope="col">Description</th>
                                <th scope="col">Created Date</th>
                                <th scope="col">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            @for (int i = 0; i < Model.Count; i++)
                            {
                                <tr>
                                    <td>@(i + 1)</td>
                                    <td class="fw-semibold">@Model[i].ProjectName</td>
                                    <td>@Model[i].Description</td>
                                    <td>@Model[i].CreatedDate</td>
                                    <td>
                                        <a href="@Url.Action("EditProject", "Account", new { id = Model[i].ProjectId })"
                                           class="btn btn-sm btn-outline-info" title="Edit Project">
                                            <i class="bi bi-pencil-square"></i> Edit
                                        </a>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    }
    else
    {
        <div class="alert alert-warning mt-4">
            <i class="bi bi-exclamation-circle me-2"></i> No projects found.
        </div>
    }
</div>
